{
  "tasks": {
    "[Init] Pull code from git": {
      "schedule": "0 * * * *",
      "run_on_load": true,
      "bash_script": [
        "[ ! -d 'runner' ] && git clone  --depth 1 https://github.com/DefiLlama/task-runner runner",
        "[ ! -d 'repo' ] && mkdir repo # we do this (plus below line) to clone repo first time into shared volume",
        "[ ! -d 'repo/defi' ] && git clone  --depth 1 https://github.com/DefiLlama/defillama-server tmp_repo && mv tmp_repo/* repo && mv tmp_repo/.* repo; rm -rf tmp_repo",
        "cd runner",
        "git pull",
        "cd ../repo/defi",
        "git stash",
        "git pull",
        "git submodule update --init --recursive",
        "git submodule update --remote --merge",
        "cd dimension-adapters",
        "git checkout master",
        "git pull",
        "cd ..",
        "npm i",
        "npm update @defillama/sdk",
        "npm run prebuild"
      ]
    },
    "[Dimensions] Store Dimensions v2": {
      "schedule": "6 * * * *",
      "npm_script": "dimensions-store-all",
      "run_on_load": true,
      "script_location": "defi"
    },
    "[Dimensions] Notify v2": {
      "schedule": "42 * * * *",
      "run_on_load": true,
      "npm_script": "dimensions-notify-backfill",
      "script_location": "defi"
    }
  }
}